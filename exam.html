<html>
    <head>
        <title>Logarithm Competition</title>
        <meta charset="utf-8">
        <!-- meta for IE -->
        <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
        <!-- First mobile meta -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
    
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <link rel="stylesheet"  href="main.css">
        <link rel="stylesheet" href="fontawesome/css/all.css">
        <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
              tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                processEscapes: true
              }
            });
          </script>
          <script>
                        console.log(document.cookie);
                        console.log("Cookies were printed!");
            function getCookie(cname) {
                let name = cname + "=";
                let decodedCookie = decodeURIComponent(document.cookie);
                let ca = decodedCookie.split(';');
                for(let i = 0; i <ca.length; i++) {
                    let c = ca[i];
                    while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                    }
                    if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                    }
                }
                return "";
            }
            if(getCookie("teamname") == "")
            {
                
                alert("You must login first before proceeding to the test!");
                window.open("login.html", "_self");
            }
            else
            {
                fetch("https://busy-teal-toad-boot.cyclic.app/InitCompetition", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({teamname: getCookie("teamname")})
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error("Network response was not ok");
                    }

                    return response.json();
                })
                .then(data => {
                    if(data["err"] != undefined){
                        alert(data["err"]);
                    }
                    else{
                        countDownTimeStamp = 0;
                        countDownTimeStamp = data["ts"];
                    }
                })
                .catch(error => {
                    console.error("There was a problem with the fetch operation:", error);
                });
            }


          </script>
      </head>
    <body>
        <form id="examform" style="text-align: center;">
            <h1 id="timer" style="margin-bottom: 50px; margin-top: 20px;">2:15:00</h1>
            <div class="mb-3">
                <label for="txtq1" class="form-label"> <b>(3 points)</b> Find the last digit number of
                    $$\prod_{n=5}^{15}\Bigl(n^2-16n+39\Bigl)\Bigl(n+2023\Bigl)$$</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq1">
            </div>

            <div class="mb-3">
                <label for="txtq2" class="form-label"> <b>(3 points)</b>Suppose there is a large circle with a radius $r_{1}$ and a smaller circle inside it with a radius $r_{2}$, where $\frac{r_{2}}{r_{1}}=\frac{3}{16}$ Find the ratio of the area left after cutting the smaller circle from the larger one to the area of the large circle.</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq2">
            </div>

            <div class="mb-3">
                <label for="txtq4" class="form-label"> <b>(3 points)</b> How many quadrilaterals can be formed by joining the vertices of a decagon?</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq4">
            </div>

            <div class="mb-3">
                <label for="txtq5" class="form-label"> <b>(4 points)</b> How many numbers less than 2023 are divisible by 3 or 5?</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq5">
            </div>

            <div class="mb-3">
                <label for="txtq6" class="form-label"> <b>(4 points)</b> Let the following sequence is in Arithmetic progression with a common difference between terms equal to $d$
                    $$2^a\cdot 3^b,3^b\cdot5,3^3\cdot2^c,3^b\cdot7,2^3 \cdot 3^b, \dots$$
                    Find $d$</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq6">
            </div>

            <div class="mb-3">
                <label for="txtq7" class="form-label"> <b>(5 points)</b> Among a group of students, 64 study number theory, 16 study geometry and 32 study algebra. If 4 of these students study combinatorics, number theory and geometry, 2 study geometry and algebra, 8 study number theory and algebra and 1 study number theory, geometry and algebra, find the number of students in the group.</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq7">
            </div>

            <div class="mb-3">
                <label for="txtq8" class="form-label"> <b>(5 points)</b>  Define three linear functions $f(x)$, $g(x)$, and $h(x)$ such that $$f(g(1011))+g(h(1011))+h(f(1011))-\Bigl(g(f(1011))+h(g(1011))+f(h(1011))\Bigl)=-2023$$ Find the value of $$g(f(2022))+h(g(2022))+f(h(2022))-\Bigl(f(g(2022))+g(h(2022))+h(f(2022))\Bigl)$$</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq8">
            </div>

            <div class="mb-3">
                <label for="txtq9" class="form-label"> <b>(5 points)</b> A math problem is presented to 99 contestants numbered from 1 to 99 let that the probability of the contestant number $n$ to solve the problem is equal to $\frac{1}{n+1}$. The probability of the problem to be solved by at least 1 contestant can be written as $\frac{a}{b}$ find $a+b$</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq9">
            </div>

            <div class="mb-3">
                <label for="txtq10" class="form-label"> <b>(5 points)</b> ABC is a right angled triangle at $B$, $D$ is a point on $AC$ such that $BD$ is the angle bisector of $\angle ABC$
                    Find $$\Bigl(\frac{BD}{AD}\Bigl)^2+\Bigl(\frac{BD}{CD}\Bigl)^2$$</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq10">
            </div>

            <div class="mb-3">
                <label for="txtq11" class="form-label"> <b>(7 points)</b> Let $x$, $y$, and $z$ are three positive integers such that 
                    $$\Bigl(y^2+xy+yz+zx+2y+x+z+1\Bigl)\Bigl(x+z+1\Bigl)=2023$$
                    Find $x+y+z$</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq11">
            </div>

            <div class="mb-3">
                <label for="txtq12" class="form-label"> <b>(7 points)</b> How many positive integers less than 102 have exactly 4 positive factors?</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq12">
            </div>

            <div class="mb-3">
                <label for="txtq13" class="form-label"> <b>(7 points)</b> Let $a,b,c,d$ are primes such that
                    $$a+b+c+d=121$$
                    $$a^2+b^2+c^2+d^2=10375$$
                        Find $a^3+b^3+c^3+d^3 - \frac{3abcd}{2}$</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq13">
            </div>

            <div class="mb-3">
                <label for="txtq14" class="form-label"> <b>(8 points)</b> How many four digit numbers existed such that the Greatest common divisor of the four digits is equal to one. 
                    <br>E.G.: the number 5863 is counted because the $\gcd(5,8,6,3)=1$</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq14">
            </div>

            <div class="mb-3">
                <label for="txtq15" class="form-label"> <b>(8 points)</b> Let $x,y, \& z$ are three positive numbers such that $xyz= \frac{1}{2}$ Find the minimum value of $$\sqrt{\Bigl(x^2+y^2+1\Bigl)\Bigl(x^2+y^2+z^2\Bigl)}$$</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq15">
            </div>

            <div class="mb-3">
                <label for="txtq16" class="form-label"> <b>(8 points)</b> Three vertices of a cube are $A=(14,24,20)$, $B=(16,16,2)$, and $C=(22,6,18)$. What is the lateral area of the cube?</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq16">
            </div>

            <div class="mb-3">
                <label for="txtq17" class="form-label"> <b>(10 points)</b> ABCDE is a regular pentagon, F is a point such that $\angle FDC=30^{\circ} $ anticlockwise with the ray DC (as shown in fig. below), $\angle BCF=18^{\circ}$ clockwise with the ray CB, find $\angle AFB$</label>
                <img src="17q.jpeg" style="width: 500px;">
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq17">
            </div>

            <div class="mb-3">
                <label for="txtq18" class="form-label"> <b>(11 points)</b> Consider a function
                    $$f(x)=\lfloor \frac{x}{5} \rfloor$$
                How many numbers less than $5^7$ such that 
                Among $(x,f(x), f^{2}(x), \dots , f^{6}(x))$
                There is at most 3 of them divisible by 5\\
                NOTE: $f^{2}(x)= f(f(x))$ not $f(x) \cdot f(x)$</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq18">
            </div>

            <div class="mb-3">
                <label for="txtq19" class="form-label"> <b>(14 points)</b> Known that $\frac{1}{a_{n}}= \frac{n}{n-1} \cdot \frac{1}{a_{n-1}}+\frac{n+1}{n+2} \cdot a_{n+1}$ \& $a_{1}=2$ \& $a_{2}=\frac{3}{4}$\\
                    Find $$\frac{(1000!)^2}{\prod_{n=2}^{1000} \Bigl(n^2-n^2 a_{n}+1\Bigl)}$$</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq19">
            </div>

            <div class="mb-3">
                <label for="txtq20" class="form-label"> <b>(15 points)</b> In a 21-Dimensional cuboid with side lengths $(\sqrt{1},\sqrt{2},\sqrt{3}, \dots , \sqrt{21})$, one vertex is fixed at point P. We define a "blacky" as the distance between P and any other vertex, such that the square of this distance is divisible by 7. How may such "blackys" exist in this cuboid?</label>
                <input type="text" class="form-control mx-auto" style="max-width: 100px;" id="txtq20">
            </div>

            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    <div class="text-center p-4 justify-content-between" style="background-color: rgba(0, 0, 0, 0.05);">
      <div class="text-container" style="text-align: center;">
          <p>©Copyright <b>Logarithm</b>, all rights reserverd</p>
      </div>  
  </div>
        <script src="js/bootstrap.min.js"></script>
        <script>
            var form = document.getElementById("examform");
            form.addEventListener('submit', SendData);
            startTimer();
            function SendData(event){
                event.preventDefault();
                var data = { teamname: getCookie("teamname"), q1ans: document.getElementById("txtq1").value,
                q2ans: document.getElementById("txtq2").value, q3ans: document.getElementById("txtq3").value,
                q4ans: document.getElementById("txtq4").value, q5ans: document.getElementById("txtq5").value,
                q6ans: document.getElementById("txtq6").value, q7ans: document.getElementById("txtq7").value,
                q8ans: document.getElementById("txtq8").value, q9ans: document.getElementById("txtq9").value,
                q10ans: document.getElementById("txtq10").value, q11ans: document.getElementById("txtq11").value,
                q12ans: document.getElementById("txtq12").value, q13ans: document.getElementById("txtq13").value,
                q14ans: document.getElementById("txtq14").value, q15ans: document.getElementById("txtq15").value,
                q16ans: document.getElementById("txtq16").value, q17ans: document.getElementById("txtq17").value,
                q18ans: document.getElementById("txtq18").value, q19ans: document.getElementById("txtq19").value,
                q20ans: document.getElementById("txtq20").value};
        console.log(data)
                fetch("http://localhost:5000/SignUp", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(data)
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error("Network response was not ok");
                    }

                    return response.json();
                })
                .then(data => {
                    if(data["err"] != undefined){
                        alert(data["err"]);
                    }
                    else{
                        alert(data["success"]);
                        window.open("index.html", "_self");
                    }
                })
                .catch(error => {
                    console.error("There was a problem with the fetch operation:", error);
                });
            }

            function startTimer()
            {   
                
                // Update the count down every 1 second
                var x = setInterval(function() {
                
                    // Get today's date and time
                    var now = Date.now();
                    // Find the distance between now and the count down date
                    var distance = countDownTimeStamp - now;
                    let date = new Date(distance);
                
                    // Display the result in the element with id="demo"
                    document.getElementById("timer").innerHTML = date.getDay() + "d " + date.getHours() + "h "
                    + date.getMinutes() + "m " + date.getSeconds() + "s ";
                
                    // If the count down is finished, write some text
                    if (distance < 0) {
                    clearInterval(x);
                    document.getElementById("timer").innerHTML = "The competition has already started!";
                    }
                }, 1000);
            }
            startTimer();
        </script>
    </body>
</html>